var systemSleep = require('common-node/lib/system').sleep;

module.exports = function sleep (ms, async, cb) {
    if (async) {
        throw new Error('Can\'t async sleep in Common Node context');
    } else {
        if (ms > 5000) {
            return cb(new Error('Sleep time must be less then 5000 ms'));
        }
        systemSleep(ms);
        return cb()
    }
};

