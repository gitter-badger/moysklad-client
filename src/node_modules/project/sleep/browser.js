module.exports = function sleep (ms, async, cb) {
    if (async) {
        setTimeout(cb, ms);
    } else {
        if (ms > 5000) {
            return cb(new Error('Sleep time must be less then 5000 ms'));
        }
        var startTime = new Date();
        while (true) {
            if (new Date() - startTime > ms) { break }
        }
        return cb()
    }
};
