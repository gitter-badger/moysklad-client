/**
 * default Google Script auth
 * Date: 23.03.14
 * Vitaliy V. Makeev (w.makeev@gmail.com)
 */
var userProperties = PropertiesService.getUserProperties();

module.exports = {

    getAuth: function () {

        // TODO Использовать новое API для пользовательских настроек ..
        // .. и вообще будет ли это работать из библиотеки в GS
        var login       = userProperties.getProperty('MOYSKLAD_LOGIN')
          , password    = userProperties.getProperty('MOYSKLAD_PASSWORD');

        if (login && password) {
            return {
                login: login,
                password: password
            }
        }

        else {
            return null;
        }
    },

    setDefaultAuth: function (login, password) {

        userProperties.setProperties({
            'MOYSKLAD_LOGIN':       login,
            'MOYSKLAD_PASSWORD':    password
        });
    }

};
