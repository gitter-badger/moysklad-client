/**
 * order
 * Date: 28.05.15
 * Vitaliy V. Makeev (w.makeev@gmail.com)
 */

var _            = require('lodash'),
    getPositions = require('project/tools/getPositions');


module.exports = function (typeName, map, client) {
    return {
        methods: {
            reserve: function () {
                _.forEach(getPositions(this), function (position) {
                    position.reserve = position.quantity;
                });

                this.reservedSum = this.sum.sum;
            }
        }
    }
};