/**
 * hasPrice
 * Date: 28.05.15
 * Vitaliy V. Makeev (w.makeev@gmail.com)
 */

var _ = require('lodash');
var isUuid = require('project/tools/isUuid');

var hasPrice = function (entity, priceTypeUuid) {
    var price,
        that = this;

    if (!entity) throw new Error('entity not defined');
    if (!isUuid(priceTypeUuid)) throw new Error('priceTypeUuid must be Uuid');

    if (entity.salePrices) {
        price = _.find(entity.salePrices, {priceTypeUuid: priceTypeUuid});
        if (price) return true;
    }

    return false;
};

module.exports = hasPrice;