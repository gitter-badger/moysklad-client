var _ = require('lodash');
var instanceOf = require('./instanceOf');

/**
 * getPositions
 * Возвращает свойство с массивом позиций для указанного документа (полезно для унификации
 * доступа к позициям документа, т.к. для разных типов объектов наименование свойств с позициями различно)
 *
 * @param entity Сущность с аттрибутами
 * @returns Array
 */
var getPositions = function (entity) {
    var positions;
    if (instanceOf(entity, 'operationWithPositions')) {
        positions = _.find(entity, function (value, key) {
            return instanceOf(key, 'motion');
        })
        return positions || [];
    }

    return null;
};

module.exports = getPositions;
