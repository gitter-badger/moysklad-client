/**
 * Date: 02.06.14
 * Vitaliy V. Makeev (w.makeev@gmail.com)
 */

var _ = require('lodash');

/**
 * Возвращает свойство с массивом позиций для указанного документа (полезно для унификации
 * доступа к позициям документа, т.к. для разных типов объектов наименование свойств с позициями различно)
 *
 * @param entity Сущность с аттрибутами
 * @returns Array
 */
var getPositions = function (entity) {
    if (entity.instanceOf && entity.instanceOf('operationWithPositions')) {
        return _.find(entity, function (value, key) {
            return key.instanceOf ? key.instanceOf('motion') : false;
        })
    }
    return null;
};

module.exports = getPositions;