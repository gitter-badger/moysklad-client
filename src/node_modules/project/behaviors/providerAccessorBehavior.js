/**
 * providerAccessor
 * Date: 03.04.14
 * Vitaliy V. Makeev (w.makeev@gmail.com)
 */

var _    = require('lodash'),
    have = require('have');

/** @class */
var ProviderAccessor = function () {
    var _providers = {};

    this.getProvider = function (name) {
        return _providers[name];
    };

    this.setProvider = function () {
        var args = have(arguments, {
            'providers': 'opt object',
            'name': 'opt string',
            'provider': 'opt obj or func'
        });

        if (args.providers) {
            _.forOwn(args.providers, function (provider, name) {
                _providers[name] = provider;
            })

        } else if (args.name && args.provider) {
            _providers[args.name] = args.provider;

        } else throw new Error('setProvider: incorrect arguments');

        return this;
    }
};

module.exports = ProviderAccessor;